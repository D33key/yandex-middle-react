import{j as e,T as i,u as o,e as f,a as _,b as C,L as N,o as y,P as x}from"./index-DK97D4BR.js";import{T as $}from"./Title-BSmW3SQs.js";import{M as k}from"./Main-CTkRR1Ew.js";import{E as L,S as T}from"./index-RqKFnVgy.js";import{u as I}from"./index-BvbFtY8-.js";import{I as p,F as S,C as W,s as z}from"./statusText-BZ82Snln.js";import{P}from"./index-BpkfYpkd.js";function m({text:s,count:a}){return e.jsxs("div",{className:"flex flex-col",children:[e.jsx(i,{size:"medium",children:s}),e.jsx(i,{size:"large",type:"digits",extraClass:"digit-shadow",children:a})]})}const A="_wrapper_148vt_1",E="_statusWrapper_148vt_9",u={wrapper:A,statusWrapper:E};function j({status:s}){const a=s==="done"?"Готовы:":"В работе:",t=s==="done"?"aqua":"red",{data:r}=o(n=>n.webSocketSlice),l=r==null?void 0:r.orders.filter(n=>n.status===s);return e.jsxs("div",{className:`${u.wrapper} flex flex-col gap-24`,children:[e.jsx(i,{size:"medium",children:a}),e.jsx("div",{className:`flex flex-col gap-8 ${u.statusWrapper}`,children:l==null?void 0:l.map(n=>e.jsx(i,{extraClass:t,type:"digits",children:n.number},n.number))})]})}function F(){const{data:s}=o(a=>a.webSocketSlice);return e.jsxs("div",{className:"flex flex-col gap-60 m-left-60",children:[!s&&e.jsx(f,{}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between gap-36",children:[e.jsx(j,{status:"done"}),e.jsx(j,{status:"pending"})]}),e.jsx(m,{text:"Выполнено за все время:",count:s.total}),e.jsx(m,{text:"Выполнено за сегодня:",count:s.totalToday})]})]})}function M({ingredients:s}){return e.jsx("div",{className:"flex",children:s.length>6?s.slice(0,6).map((a,t)=>e.jsx(p,{img:a.img,isLast:t===5,amountOfRemainingIngredients:s.length-6},t)):s.map((a,t)=>e.jsx(p,{img:a.img},t))})}const R="_wrapper_19p5m_1",q={wrapper:R};function D({id:s,dateFromServer:a,name:t,price:r,ingredients:l,linkId:n,status:c,isForSpecificUser:d=!1}){const h=_(),g=C(),w=d?x.orders:x.feed,b=z[c],v=c==="done"?"aqua":"red";return e.jsx(N,{to:`${w}/${n}`,onClick:()=>h(y({title:`#${s}`,name:t,status:c,totalPrice:r,ingredients:l,date:a})),state:{background:g},replace:!0,children:e.jsxs("div",{className:q.wrapper,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(i,{type:"digits",children:["#",s]}),e.jsx(S,{date:a})]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(i,{size:"medium",children:t}),d&&e.jsx(W,{color:v,children:b})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(M,{ingredients:l}),e.jsx(P,{amount:r,size:"default"})]})]})})}const B="_wrapper_xpt0j_1",G={wrapper:B};function O({isForSpecificUser:s=!1}){const{data:a}=o(t=>t.webSocketSlice);return e.jsxs("div",{className:`${G.wrapper} flex justify-between flex-col gap-16`,children:[!a&&e.jsx(f,{}),a&&a.orders.length!==0&&a.orders.map(t=>e.jsx(D,{linkId:t.number,dateFromServer:t.createdAt,id:t.number,name:t.name,price:t.price,ingredients:t.ingredients,status:t.status,isForSpecificUser:s},t._id)),a&&a.orders.length===0&&e.jsx(L,{text:"Пусто"})]})}function Z({isForSpecificUser:s=!1}){return I(s),e.jsx(k,{children:e.jsxs(T,{children:[!s&&e.jsx($,{children:"Лента заказов"}),e.jsxs("div",{className:"flex",children:[e.jsx(O,{isForSpecificUser:s}),!s&&e.jsx(F,{})]})]})})}export{Z as default};
