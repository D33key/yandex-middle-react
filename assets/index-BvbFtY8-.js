import{W as s,a as c,r,E as a,F as i,G as p}from"./index-DK97D4BR.js";const u=(e,o)=>({type:s.connect,...e&&{payload:{url:e,token:o}}}),C=()=>({type:s.disconnect});function E(e=!1){const o=e?"wss://norma.nomoreparties.space/orders":"wss://norma.nomoreparties.space/orders/all",n=c();r.useEffect(()=>((async()=>{let t;if(e){if(await n(a()),t=i(p[0]),!t)throw new Error("Не удалось получить токен");t=t.split(" ")[1]}n(u(o,t))})(),()=>{n(C())}),[])}export{E as u};
